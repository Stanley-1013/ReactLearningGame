# 多語言功能指南\n\n## 🌍 功能概述\n\n本專案已完整支援**繁體中文**和**英文**雙語言切換功能，使用者可以在遊戲過程中隨時切換語言。\n\n## 🎯 主要特色\n\n- ✅ **即時語言切換** - 無需重新載入頁面\n- ✅ **持久化設定** - 語言偏好自動儲存\n- ✅ **完整本地化** - 所有 UI 文字和教學內容\n- ✅ **雙語教學內容** - 10 個 React 關卡完整翻譯\n- ✅ **語言偵測** - 自動偵測瀏覽器語言\n- ✅ **PWA 支援** - 多語言離線使用\n\n## 🔧 技術實作\n\n### 語言系統架構\n\n```\nsrc/\n├── contexts/\n│   └── LanguageContext.jsx     # 語言上下文管理\n├── components/\n│   └── LanguageSwitcher.jsx     # 語言切換元件\n├── data/\n│   ├── modules.json             # 中文教學內容\n│   └── modules-en.json          # 英文教學內容\n├── hooks/\n│   └── useModules.js            # 多語言模組資料 Hook\n└── utils/\n    └── i18n.js                  # 翻譯工具函數\n```\n\n### 核心元件\n\n#### 1. LanguageContext\n- 管理全域語言狀態\n- 提供語言切換功能\n- LocalStorage 持久化\n- 瀏覽器語言偵測\n\n#### 2. LanguageSwitcher\n- 4 種切換樣式：下拉選單、按鈕組、切換開關、圓形圖示\n- 響應式設計\n- 無障礙功能支援\n\n#### 3. useModules Hook\n- 根據語言自動載入對應教學內容\n- 提供模組查詢和導航功能\n- 錯誤處理和降級機制\n\n## 🚀 使用方式\n\n### 在元件中使用語言功能\n\n```jsx\nimport { useLanguage } from '../contexts/LanguageContext';\n\nfunction MyComponent() {\n  const { isLanguage } = useLanguage();\n  \n  return (\n    <div>\n      <h1>\n        {isLanguage('en-US') ? 'Hello World' : '你好世界'}\n      </h1>\n    </div>\n  );\n}\n```\n\n### 添加語言切換器\n\n```jsx\nimport LanguageSwitcher from './components/LanguageSwitcher';\n\n// 下拉選單樣式\n<LanguageSwitcher variant=\"dropdown\" size=\"medium\" />\n\n// 切換開關樣式  \n<LanguageSwitcher variant=\"toggle\" size=\"medium\" />\n\n// 按鈕組樣式\n<LanguageSwitcher variant=\"buttons\" size=\"large\" />\n\n// 圓形圖示樣式\n<LanguageSwitcher variant=\"icon\" size=\"small\" />\n```\n\n### 使用模組資料\n\n```jsx\nimport { useModules } from '../hooks/useModules';\n\nfunction LessonList() {\n  const { modules, isLoading, getModuleById } = useModules();\n  \n  if (isLoading) return <div>Loading...</div>;\n  \n  return (\n    <div>\n      {modules.map(module => (\n        <div key={module.id}>\n          <h3>{module.title}</h3>\n          <p>{module.content}</p>\n        </div>\n      ))}\n    </div>\n  );\n}\n```\n\n## 📝 內容管理\n\n### 教學內容結構\n\n每個語言版本的 `modules.json` 包含：\n\n```json\n{\n  \"modules\": [\n    {\n      \"id\": 1,\n      \"title\": \"課程標題\",\n      \"content\": \"詳細教學內容...\",\n      \"codeExample\": \"// React 程式碼範例\",\n      \"quiz\": {\n        \"question\": \"測驗問題\",\n        \"options\": [\"選項1\", \"選項2\", \"選項3\"],\n        \"answer\": \"正確答案\"\n      },\n      \"media\": {\n        \"image\": \"/assets/images/lesson-1.png\",\n        \"audio\": \"/assets/audio/lesson-1.mp3\"\n      }\n    }\n  ]\n}\n```\n\n### 新增語言支援\n\n1. **擴充語言清單**：\n   ```jsx\n   // LanguageContext.jsx\n   export const SUPPORTED_LANGUAGES = {\n     'zh-TW': { code: 'zh-TW', name: '繁體中文', flag: '🇹🇼' },\n     'en-US': { code: 'en-US', name: 'English', flag: '🇺🇸' },\n     'ja-JP': { code: 'ja-JP', name: '日本語', flag: '🇯🇵' } // 新增日文\n   };\n   ```\n\n2. **建立內容檔案**：\n   ```\n   src/data/modules-ja.json  # 日文教學內容\n   ```\n\n3. **更新 useModules Hook**：\n   ```jsx\n   import modulesJa from '../data/modules-ja.json';\n   \n   const getModuleData = (language) => {\n     switch(language) {\n       case 'en-US': return modulesEn;\n       case 'ja-JP': return modulesJa;\n       default: return modulesZh;\n     }\n   };\n   ```\n\n## 🎨 客製化指南\n\n### 語言切換器樣式\n\n可以透過 CSS 變數客製化外觀：\n\n```css\n.language-switcher {\n  --primary-color: #3498db;\n  --hover-color: #2980b9;\n  --background-color: white;\n  --border-color: #e0e0e0;\n  --text-color: #2c3e50;\n}\n```\n\n### 動畫效果\n\n```css\n/* 語言切換動畫 */\n@keyframes languageSwitch {\n  0% { opacity: 0.7; transform: scale(0.95); }\n  50% { opacity: 1; transform: scale(1.05); }\n  100% { opacity: 1; transform: scale(1); }\n}\n```\n\n## 🚀 部署注意事項\n\n### PWA 多語言支援\n\n`manifest.json` 已設定多語言支援：\n\n```json\n{\n  \"name\": \"React 學習遊戲\",\n  \"short_name\": \"React Game\", \n  \"lang\": \"zh-TW\",\n  \"shortcuts\": [\n    {\n      \"name\": \"開始學習\",\n      \"short_name\": \"學習\",\n      \"url\": \"/\"\n    }\n  ]\n}\n```\n\n### SEO 優化\n\n`index.html` 包含多語言 meta 標籤：\n\n```html\n<html lang=\"zh-TW\">\n<meta property=\"og:locale\" content=\"zh_TW\" />\n<meta property=\"og:locale:alternate\" content=\"en_US\" />\n```\n\n## 🧪 測試建議\n\n### 功能測試清單\n\n- [ ] 語言切換正常運作\n- [ ] 內容正確載入\n- [ ] LocalStorage 持久化\n- [ ] 瀏覽器語言偵測\n- [ ] 響應式設計\n- [ ] PWA 離線功能\n- [ ] 無障礙功能\n\n### 自動化測試\n\n```jsx\n// 測試語言切換\ntest('language switching works correctly', () => {\n  render(<App />);\n  \n  // 預設中文\n  expect(screen.getByText('React 學習遊戲')).toBeInTheDocument();\n  \n  // 切換到英文\n  fireEvent.click(screen.getByRole('button', { name: /switch language/i }));\n  expect(screen.getByText('React Learning Game')).toBeInTheDocument();\n});\n```\n\n## 📚 最佳實踐\n\n1. **一致性**：確保所有 UI 文字都有對應翻譯\n2. **上下文**：翻譯時考慮使用情境和文化差異\n3. **簡潔性**：避免過長的翻譯文字影響 UI 布局\n4. **測試**：定期測試所有語言版本的功能\n5. **效能**：使用 lazy loading 避免載入不必要的語言檔案\n\n## 🔮 未來擴充\n\n- **RTL 語言支援**：阿拉伯文、希伯來文等\n- **動態載入**：按需載入語言包\n- **翻譯管理**：整合外部翻譯管理系統\n- **語音合成**：支援多語言語音朗讀\n- **本地化日期/數字**：使用 Intl API 格式化\n\n---\n\n🎉 現在你的 React 學習遊戲已經支援完整的多語言功能！使用者可以選擇最適合的語言來學習 React 開發。"